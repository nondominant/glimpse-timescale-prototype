<!DOCTYPE html>
<html lang="en">
<head>
    <title>Ag-Grid Basic Example</title>
    <link rel="stylesheet" href="style/style.css"/>
    <script src="https://unpkg.com/ag-grid-community/dist/ag-grid-community.min.js"></script>
    <script src="js/papaparse.js"></script>

</head>
<body>
	<div class="gridwrapper">
		<div class="navbar">
			<a href="/employeeTable">Employee Table</a>
			<a href="/assetTable">Asset Table</a>
			<a href="/meterTable">Meter Table</a>
			<a href="/productTable">Product Table</a>
			<a href="/eventSourceTable">Event Source Table</a>
			<a href="/coachingMomentTable">Coaching Moment</a>
		</div>
		<div>
			<button id="uploadButton">Upload</button>
			<input type="file" id="myfile" accept=".csv">
		</div>
		<div style="display:flex;flex-direction:row;">
			<div id="result" style="height: 30rem; width:45vw; border: solid red 2px;" class="ag-theme-alpine"></div>
			<div id="myGrid" style="height: 30rem; width:45vw; border: solid blue 2px;" class="ag-theme-alpine"></div>
		</div>


	</div>
    <script type="module">
	import { generateTable } from './js/editableTable.js';
	import { f } from './js/uploader.js';

	document.addEventListener('DOMContentLoaded', () => {
	const urlInsert = 'http://localhost:8000/insert/b/productTable';
	const urlRead = 'http://localhost:8000/read/productTable';

	var model = [
	{ 
		field: "productID" 
	},
	{ 
		field: "productName",
		editable: true,
		filter: 'agSetColumnFilter'
	},
	{ 
		field: "weight",
		editable: true
	},
	];
	let hooks = generateTable('#myGrid', model, urlInsert, urlRead); 
	f('#myfile', '#uploadButton', model, hooks);
	});
    </script>
</body>
</html>
